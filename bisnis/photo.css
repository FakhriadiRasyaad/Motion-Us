/* =========================================================
   Photobooth â€” Cute Theme (matching video.css)
   File: /bisnis/photo.css
   ========================================================= */

/* ---------- Theme Vars ---------- */
:root{
    --bg:#0b1020;
    --card:#121738;
    --soft:#1a2150;
    --ink:#e8edff;
    --muted:#b8c1ff;
  
    --accent:#8b7bff;     /* purple pastel */
    --accent-2:#6ee7b7;   /* mint */
    --accent-3:#ffd166;   /* honey */
    --danger:#ff6b6b;     /* coral */
    --warn:#ffae42;       /* amber */
    --ok:#22c55e;         /* green */
  
    --shadow: 0 10px 30px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.02) inset;
    --radius: 18px;
    --radius-2: 24px;
  }
  
  /* ---------- Base ---------- */
  html,body{
    background:var(--bg);
    color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
    line-height:1.5;
  }
  
  .hidden{ display:none !important; }
  .muted{ color:var(--muted); }
  .small{ font-size:.9rem; opacity:.9; }
  
  /* ---------- Wrapper ---------- */
  .pb-wrap{
    max-width:1200px;
    margin:40px auto 64px;
    padding:0 16px;
  }
  .pb-head{
    text-align:center; margin-bottom:20px;
  }
  .pb-head h1{
    font-size:clamp(24px,3vw,36px);
    margin:0 0 8px;
    background: linear-gradient(90deg, #fff, #d7ddff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  
  /* ---------- Steps ---------- */
  .step{
    background:var(--card);
    border-radius:var(--radius-2);
    box-shadow:var(--shadow);
    padding:18px;
    margin-bottom:20px;
    display:none;
  }
  .step.active{ display:block; }
  
  .step h2{
    margin:0 0 12px;
    font-size:1.25rem;
  }
  
  /* ---------- Buttons ---------- */
  .btn{
    --bg: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.25)), var(--accent);
    border:none; background:var(--bg); color:#0b1020;
    border-radius:14px; padding:10px 14px; font-weight:700; cursor:pointer;
    transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
    box-shadow: 0 6px 18px rgba(139,123,255,.25);
  }
  .btn:hover{ transform: translateY(-1px); }
  .btn:active{ transform: translateY(1px) scale(.98); }
  .btn.secondary{
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.25)), #273072;
    color: var(--ink);
    box-shadow: 0 6px 18px rgba(0,0,0,.25);
  }
  .btn.ok{
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.25)), var(--ok);
    color:#0b1020;
  }
  .btn.danger{
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.25)), var(--danger);
    color:#0b1020;
  }
  .btn.full{ width:100%; }
  
  .step-actions{
    display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; margin-top:10px;
  }
  .btn[disabled]{ opacity:.6; cursor:not-allowed; filter:grayscale(.2); }
  
  /* ---------- Layout selector (compact & aligned) ---------- */
  .layout-grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(110px,1fr));
    gap:14px;
    justify-items:center;
    align-items:center;
    margin-top:10px;
    margin-bottom:24px;
  }
  @media (max-width:980px){ .layout-grid{grid-template-columns:repeat(3,1fr);} }
  @media (max-width:560px){ .layout-grid{grid-template-columns:repeat(2,1fr);} }
  
  .layout-card{
    background:var(--soft);
    border:1px solid rgba(255,255,255,.06);
    border-radius:14px;
    width:110px;
    height:110px;
    cursor:pointer;
    box-shadow: var(--shadow);
    transition: transform .08s ease, border-color .2s ease, box-shadow .2s ease;
    text-align:center;
    padding:8px 6px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
  }
  .layout-card:hover{
    transform:translateY(-2px);
    border-color:rgba(139,123,255,.5);
  }
  .layout-card.selected{
    border-color:transparent;
    box-shadow:0 0 0 3px rgba(139,123,255,.9) inset,0 0 18px rgba(139,123,255,.25);
  }
  
  .layout-visual{
    width:58px;
    height:58px;
    border-radius:10px;
    margin-bottom:6px;
    position:relative;
    background:
      linear-gradient(145deg,rgba(255,255,255,.06),rgba(0,0,0,.25)),
      #0d1330;
    border:1px solid rgba(255,255,255,.08);
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }
  
  /* Mini preview pattern fix (balanced vertically) */
  .layout-2row::before,
  .layout-3row::before,
  .layout-4grid::before,
  .layout-5mix::before,
  .layout-6grid::before{
    content:"";
    position:absolute;
    inset:6px;
    border:2px solid var(--accent);
    border-radius:8px;
    box-sizing:border-box;
  }
  .layout-2row::after{
    content:"";
    position:absolute;
    top:50%;
    left:8%;
    right:8%;
    height:2px;
    background:var(--accent);
  }
  .layout-3row::after{
    content:"";
    position:absolute;
    left:8%;
    right:8%;
    height:2px;
    top:33%;
    background:var(--accent);
    box-shadow:0 16px 0 var(--accent);
  }
  .layout-4grid::after{
    content:"";
    position:absolute;
    inset:8px;
    border:2px solid var(--accent-2);
    border-radius:6px;
    background:
      linear-gradient(var(--accent-2) 2px,transparent 2px) 0 50%/100% 50% repeat-y,
      linear-gradient(90deg,var(--accent-2) 2px,transparent 2px) 50% 0/50% 100% repeat-x;
  }
  .layout-title{
    font-size:.8rem;
    line-height:1.1;
    color:var(--ink);
    opacity:.9;
    user-select:none;
  }
  
  /* ---------- Step 2: Camera ---------- */
  .cam-area{
    display:grid; grid-template-columns: 1fr .9fr; gap:16px;
  }
  @media (max-width: 980px){ .cam-area{ grid-template-columns:1fr; } }
  
  .live-box{
    position:relative;
    background: radial-gradient(150px 100px at 20% 20%, rgba(139,123,255,.12), transparent),
                radial-gradient(150px 120px at 80% 30%, rgba(110,231,183,.12), transparent),
                var(--soft);
    border:1px solid rgba(255,255,255,.05);
    border-radius:16px;
    overflow:hidden;
    aspect-ratio: 16/12;
  }
  #video{
    width:100%; height:100%; display:block; background:#000; object-fit:cover;
  }
  #video.mirrored{ transform: scaleX(-1); }
  
  .countdown{
    position:absolute; left:50%; bottom:6%;
    transform: translateX(-50%);
    font-size: clamp(48px, 10vw, 96px);
    font-weight:800; color:#fff;
    text-shadow: 0 10px 40px rgba(0,0,0,.45);
  }
  
  .cam-side{
    display:flex; flex-direction:column; gap:10px;
  }
  .captured-grid{
    min-height:100px;
    display:grid; grid-template-columns: repeat(3, 1fr);
    gap:8px;
  }
  .captured-grid .ph{
    background:#0d1330; border:1px solid rgba(255,255,255,.08);
    border-radius:12px; overflow:hidden; display:flex; align-items:center; justify-content:center;
    aspect-ratio:1/1; position:relative;
  }
  .captured-grid .ph img{ width:100%; height:100%; object-fit:cover; display:block; }
  .captured-grid .ph.empty span{
    color:#a6b1ff; font-weight:700; opacity:.7;
  }
  .cam-actions{ display:flex; gap:10px; }
  
  /* ---------- Filters panel placeholder ---------- */
  #filterPanel{
    border-top:1px dashed rgba(255,255,255,.08);
    padding-top:12px; margin-top:10px;
  }
  
  /* ---------- Step 3: Editor ---------- */
  .editor{
    display:grid; grid-template-columns: 280px 1fr 320px; gap:16px;
    align-items:start; /* presisi top edge */
  }
  @media (max-width: 1100px){
    .editor{ grid-template-columns: 280px 1fr; }
    .panel-right{ grid-column: 1 / -1; }
  }
  @media (max-width: 740px){
    .editor{ grid-template-columns: 1fr; }
    .panel-left, .panel-right{ order: -1; }
  }
  
  .panel-left, .panel-right{
    background:var(--card); border-radius:16px; padding:14px; box-shadow:var(--shadow);
  }
  .panel-group + .panel-group{ margin-top:12px; }
  .panel-group h3{ margin:0 0 10px; font-size:1.05rem; }
  
  .stage-wrap{
    background:var(--soft);
    border:1px solid rgba(255,255,255,.06);
    border-radius:16px; padding:12px;
    display:flex; align-items:center; justify-content:center;
    flex-direction:column; gap:6px;
    box-shadow:var(--shadow);
  }
  #stage{
    width:100%; height:auto; display:block; background:#fff;
    border-radius:12px; box-shadow:0 12px 28px rgba(0,0,0,.25);
    border:1px solid rgba(255,255,255,.06);
    max-width:720px;            /* batasi agar proporsional */
    margin-inline:auto;
  }
  /* watermark label */
  .stage-wrap .wm{
    font-size:.85rem; color:var(--muted);
    opacity:.9;
  }
  
  /* ---------- Controls: rows/joystick ---------- */
  .row{ display:flex; gap:10px; align-items:center; margin-bottom:10px; }
  .row label{ width:64px; color:#cfd5ff; font-size:.95rem; }
  
  .joystick-control{
    display:grid; grid-template-rows: auto auto auto; grid-template-columns: auto auto auto;
    gap:6px; align-items:center; justify-content:center;
  }
  .joy-btn{
    width:42px; height:42px; border-radius:12px; border:1px solid rgba(255,255,255,.06);
    background:#222a66; color:#e9ecff; cursor:pointer; font-weight:700;
    transition: transform .06s ease, background .2s ease;
  }
  .joy-btn:hover{ transform: translateY(-1px); background:#2a3380; }
  .joy-center{ grid-column:2; grid-row:2; }
  .joy-up{ grid-column:2; grid-row:1; }
  .joy-down{ grid-column:2; grid-row:3; }
  .joy-left{ grid-column:1; grid-row:2; }
  .joy-right{ grid-column:3; grid-row:2; }
  
  /* ---------- Sliders with +/- ---------- */
  .control-section{ margin-bottom:10px; }
  .control-with-buttons{
    display:grid; grid-template-columns: 42px 1fr 42px; gap:8px; align-items:center;
  }
  .ctrl-btn{
    height:40px; border-radius:12px; border:1px solid rgba(255,255,255,.06);
    background:#222a66; color:#e9ecff; cursor:pointer; font-weight:800;
  }
  input[type="range"]{
    -webkit-appearance:none; appearance:none; width:100%; height:10px; border-radius:999px; outline:none;
    background:#0d1330; border:1px solid rgba(255,255,255,.08);
  }
  input[type="range"]::-webkit-slider-thumb{
    -webkit-appearance:none; appearance:none;
    width:22px; height:22px; border-radius:50%;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    border:2px solid #0b1020; box-shadow: 0 4px 12px rgba(139,123,255,.35);
    cursor:pointer;
  }
  
  /* ---------- Layer control ---------- */
  .layer-control{ display:flex; gap:8px; }
  .layer-btn{
    flex:1; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.08);
    background:#1b2361; color:#e8edff; cursor:pointer; font-weight:700;
    transition: transform .06s ease, background .2s ease;
  }
  .layer-btn:hover{ transform: translateY(-1px); background:#24318a; }
  
  /* ---------- Right panel: presets (buttons, compact) ---------- */
  .thumb-grid{
    display:grid; grid-template-columns: repeat(3,1fr); gap:8px;
  }
  .thumb{
    background:#feffff; border:1px solid rgba(255,255,255,.06);
    border-radius:12px; overflow:hidden; padding:0; cursor:pointer;
    transition: transform .08s ease, border-color .2s ease, box-shadow .2s ease;
  }
  .thumb:hover{ transform: translateY(-2px); border-color: rgba(139,123,255,.55); }
  .thumb:active{ transform: translateY(0) scale(.98); }
  .thumb.selected{
    box-shadow: 0 0 0 3px rgba(139,123,255,.9) inset, 0 0 18px rgba(255, 255, 255, 0.25);
    border-color: transparent;
  }
  .thumb img{ width:100%; height:64px; display:block; object-fit:contain; background:#ffffff; } /* compact preview */
  
  /* ---------- Footer ---------- */
  .footer{
    text-align:center; color:var(--muted); opacity:.9; margin-top:8px;
  }
  
  /* ---------- Accessibility focus ---------- */
  button:focus-visible, .thumb:focus-visible{
    outline: 3px solid rgba(139,123,255,.9);
    outline-offset: 2px;
    border-radius: 12px;
  }
  